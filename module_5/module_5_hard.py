import time

class User:
    """
    –ö–ª–∞—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
    –•—Ä–∞–Ω–∏—Ç –æ—Å–Ω–æ–≤–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
    """

    def __init__(self, nickname, password, age):
        # Nickname –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        self.nickname = nickname

        # –•—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è
        self.password = hash(password)

        # –í–æ–∑—Ä–∞—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        self.age = age

    def __str__(self):
        # –°—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è - –µ–≥–æ nickname
        return self.nickname


class Video:
    """
    –ö–ª–∞—Å—Å –≤–∏–¥–µ–æ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ
    –°–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞–∂–¥–æ–º –≤–∏–¥–µ–æ
    """

    def __init__(self, title, duration, time_now=0, adult_mode=False):
        # –ó–∞–≥–æ–ª–æ–≤–æ–∫ –≤–∏–¥–µ–æ
        self.title = title

        # –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–∏–¥–µ–æ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
        self.duration = duration

        # –¢–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
        self.time_now = time_now

        # –í–æ–∑—Ä–∞—Å—Ç–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ
        self.adult_mode = adult_mode

    def __eq__(self, other):
        # –ú–µ—Ç–æ–¥ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –≤–∏–¥–µ–æ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
        return self.title == other.title


class UrTube:
    """
    –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
    –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –≤–∏–¥–µ–æ
    """

    def __init__(self):
        # –°–ø–∏—Å–æ–∫ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        self.users = []

        # –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–∏–¥–µ–æ
        self.videos = []

        # –¢–µ–∫—É—â–∏–π –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
        self.current_user = None

    def log_in(self, nickname, password):
        """
        –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        """
        # –•—ç—à–∏—Ä—É–µ–º –≤–≤–µ–¥–µ–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å
        hashed_password = hash(password)

        # –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Å–æ–≤–ø–∞–¥–∞—é—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏
        for user in self.users:
            if user.nickname == nickname and user.password == hashed_password:
                self.current_user = user
                return

    def register(self, nickname, password, age):
        """
        –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        """
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        for user in self.users:
            if user.nickname == nickname:
                print(f"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å {nickname} —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç")
                return

        # –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        new_user = User(nickname, password, age)
        self.users.append(new_user)
        self.current_user = new_user

    def log_out(self):
        """
        –í—ã—Ö–æ–¥ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞
        """
        self.current_user = None

    def add(self, *videos):
        """
        –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –≤–∏–¥–µ–æ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É
        –ò—Å–∫–ª—é—á–∞–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã
        """
        for video in videos:
            if video not in self.videos:
                self.videos.append(video)

    def get_videos(self, search_word):
        """
        –ü–æ–∏—Å–∫ –≤–∏–¥–µ–æ –ø–æ –∫–ª—é—á–µ–≤–æ–º—É —Å–ª–æ–≤—É
        –†–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –ø–æ–∏—Å–∫
        """
        return [video.title for video in self.videos
                if search_word.lower() in video.title.lower()]

    def watch_video(self, title):
        """
        –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –≤–∏–¥–µ–æ —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
        """
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
        if not self.current_user:
            print("–í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç, —á—Ç–æ–±—ã —Å–º–æ—Ç—Ä–µ—Ç—å –≤–∏–¥–µ–æ")
            return

        # –ü–æ–∏—Å–∫ –≤–∏–¥–µ–æ
        for video in self.videos:
            if video.title == title:
                # –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑—Ä–∞—Å—Ç–Ω–æ–≥–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
                if video.adult_mode and self.current_user.age < 18:
                    print("–í–∞–º –Ω–µ—Ç 18 –ª–µ—Ç, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞ –ø–æ–∫–∏–Ω—å—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É")
                    return

                # –ò–º–∏—Ç–∞—Ü–∏—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
                for i in range(1, video.duration + 1):
                    print(i, end=' ')
                    time.sleep(0.5)  # –£–º–µ–Ω—å—à–∏–ª –≤—Ä–µ–º—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

                print("\n–ö–æ–Ω–µ—Ü –≤–∏–¥–µ–æ")
                return


# –ë–ª–æ–∫ –¥–ª—è –ø–æ–ª–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
def test_urtube():
    print("üîç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã UrTube")

    # –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
    ur = UrTube()

    # –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –≤–∏–¥–µ–æ
    v1 = Video('–õ—É—á—à–∏–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è 2024 –≥–æ–¥–∞', 10)
    v2 = Video('–î–ª—è —á–µ–≥–æ –¥–µ–≤—É—à–∫–∞–º –ø–∞—Ä–µ–Ω—å –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç?', 10, adult_mode=True)

    # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∏–¥–µ–æ
    ur.add(v1, v2)

    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∏—Å–∫–∞
    print("\nüîé –¢–µ—Å—Ç –ø–æ–∏—Å–∫–∞ –≤–∏–¥–µ–æ:")
    print("–ü–æ–∏—Å–∫ '–ª—É—á—à–∏–π':", ur.get_videos('–ª—É—á—à–∏–π'))
    print("–ü–æ–∏—Å–∫ '–ü–†–û–ì':", ur.get_videos('–ü–†–û–ì'))

    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
    print("\nüö´ –¢–µ—Å—Ç –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:")
    ur.watch_video('–î–ª—è —á–µ–≥–æ –¥–µ–≤—É—à–∫–∞–º –ø–∞—Ä–µ–Ω—å –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç?')

    # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–µ–≥–æ
    print("\nüë¶ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–µ–≥–æ:")
    ur.register('vasya_pupkin', 'password123', 13)
    ur.watch_video('–î–ª—è —á–µ–≥–æ –¥–µ–≤—É—à–∫–∞–º –ø–∞—Ä–µ–Ω—å –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç?')

    # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–µ–≥–æ
    print("\nüë® –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–µ–≥–æ:")
    ur.register('urban_pythonist', 'password456', 25)
    ur.watch_video('–î–ª—è —á–µ–≥–æ –¥–µ–≤—É—à–∫–∞–º –ø–∞—Ä–µ–Ω—å –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç?')

    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
    print("\nüÜî –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:")
    ur.register('vasya_pupkin', '–Ω–æ–≤—ã–π_–ø–∞—Ä–æ–ª—å', 55)

    # –í—ã–≤–æ–¥ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    print("\nüë§ –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:", ur.current_user)


# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
test_urtube()